{"version":3,"sources":["utils.js","canvas.js","algorithms/quick-sort.js","algorithms/heap-sort.js","algorithms/merge-sort.js","algorithms/selection-sort.js","algorithms/insertion-sort.js","sketch.js"],"names":["debounce","f","delay","prevTimeout","args","clearTimeout","setTimeout","swap","arr","i","j","canvas","createCanvas","width","height","remove","document","createElement","style","body","appendChild","ctx","getContext","background","color","fillStyle","fillRect","fill","rect","x","y","w","h","quickSort","start","stop","length","pivot","partition","heapSort","buildMaxHeap","maxHeapify","Math","floor","heapSize","index","right","left","largest","mergeSort","split","merge","slice","k","selectionSort","min","insertionSort","key","select","querySelector","playBtn","pauseBtn","resetBtn","algorithms","Object","keys","forEach","algorithm","option","value","textContent","array","barWidth","gap","sorter","offsetLeft","sketch","playing","setPlayState","state","classList","toggle","addEventListener","setup","resize","window","innerWidth","innerHeight","numPoints","random","graphWidth","draw","ceil","next","done","render","requestAnimationFrame"],"mappings":"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","file":"sketch.7da6a303.js","sourceRoot":"../src","sourcesContent":["export const debounce = (f, delay) => {\n\tlet prevTimeout;\n\treturn (...args) => {\n\t\tclearTimeout(prevTimeout);\n\t\tprevTimeout = setTimeout(() => f(...args), delay);\n\t};\n};\n\nexport const swap = (arr, i, j) => {\n    [arr[i], arr[j]] = [arr[j], arr[i]];\n};\n","let canvas;\nexport default function createCanvas(width, height) {\n\tif (canvas) {\n\t\tcanvas.remove();\n\t}\n    canvas = document.createElement('canvas');\n    canvas.width = width;\n    canvas.height = height;\n    canvas.style.width = `${width}px`;\n    canvas.style.height = `${height}px`;\n    document.body.appendChild(canvas);\n    const ctx = canvas.getContext('2d');\n\treturn {\n        width, height,\n\t\tbackground: color => {\n            ctx.fillStyle = color;\n            ctx.fillRect(0, 0, width, height);\n        },\n        fill: color => {\n            ctx.fillStyle = color;\n        },\n        rect: (x, y, w, h) => {\n            ctx.fillRect(x, y, w, h);\n        },\n\t};\n}\n","import {swap} from '../utils.js';\n\n/**\n * @param {number[]} arr the array to sort\n * @param {number} [start=0] the start of the range to sort\n * @param {number} [stop=arr.length] the end of the range to sort (excluded)\n * @returns {Generator} A generator that will progressively sort the underlying\n *  array\n */\nexport default function* quickSort(arr, start = 0, stop = arr.length) {\n    if (stop > start + 1) {\n        const pivot = arr[stop - 1];\n        let partition = start;\n        for (let j = start; j < stop; j++) {\n            if (arr[j] <= pivot) {\n                swap(arr, partition, j);\n                yield;\n                partition++;\n            }\n        }\n        yield* quickSort(arr, start, partition - 1);\n        yield* quickSort(arr, partition - 1, stop);\n    }\n}\n","import {swap} from '../utils.js';\n\n/**\n * @param {number[]} arr the array to sort\n * @returns {Generator} A generator that will progressively sort the underlying\n *  array\n */\nexport default function* heapSort(arr) {\n    yield* buildMaxHeap(arr);\n    for (let i = arr.length - 1; i >= 0; i--) {\n        swap(arr, i, 0);\n        yield* maxHeapify(arr, i, 0);\n    }\n}\n/**\n * @param {number[]} arr the array in which to build the heap\n * @returns {Generator} A generator that will progressively build a heap in the\n *  underlying array\n */\nfunction* buildMaxHeap(arr) {\n    for (let i = Math.floor(arr.length / 2); i >= 0; i--) {\n        yield* maxHeapify(arr, arr.length, i);\n    }\n}\n/**\n * @param {number[]} arr the array to maxHeapify\n * @param {number} heapSize the index of the end of the heap in the array\n * @param {number} index the position from which to maxHeapify\n * @returns {Generator} A generator that will progressively \"max-heapify\" the\n *  underlying array\n */\nfunction* maxHeapify(arr, heapSize, index) {\n    const right = 2 * (index + 1);\n    const left = right - 1;\n    let largest = index;\n    if (left < heapSize && arr[left] > arr[largest]) {\n        largest = left;\n    }\n    if (right < heapSize && arr[right] > arr[largest]) {\n        largest = right;\n    }\n    if (largest !== index) {\n        swap(arr, index, largest);\n        yield;\n        yield* maxHeapify(arr, heapSize, largest);\n    }\n}\n","/**\n * @param {number[]} arr the array to sort\n * @param {number} [start=0] the start of the range to sort\n * @param {number} [stop=arr.length] the end of the range to sort (excluded)\n * @returns {Generator} A generator that will progressively sort the underlying\n *  array\n */\nexport default function* mergeSort(arr, start = 0, stop = arr.length) {\n    if (stop > start + 1) {\n        const split = Math.floor((start + stop) / 2);\n        yield* mergeSort(arr, start, split);\n        yield* mergeSort(arr, split, stop);\n        yield* merge(arr, start, split, stop);\n    }\n    yield;\n}\n/**\n * @param {number[]} arr the array containing the sorted ranges to merge\n * @param {number} start the start of the first range to merge\n * @param {number} split the end of the first range and start of the second\n * @param {number} stop the end of the second range to merge\n * @returns {Generator} A generator that will progressively merge the ranges\n *  into the underlying array\n */\nfunction* merge(arr, start, split, stop) {\n    const left = arr.slice(start, split);\n    const right = arr.slice(split, stop);\n    let i = 0, j = 0;\n    for (let k = start; k < stop; k++) {\n        if (j >= right.length || left[i] < right[j]) {\n            arr[k] = left[i];\n            i++;\n        } else {\n            arr[k] = right[j];\n            j++;\n        }\n        yield;\n    }\n}\n","import {swap} from '../utils.js';\n\n/**\n * @param {number[]} arr the array to sort\n * @returns {Generator} A generator that will progressively sort the underlying\n *  array\n */\nexport default function* selectionSort(arr) {\n    for (let i = 0; i < arr.length; i++) {\n        let min = i;\n        for (let j = i; j < arr.length; j++) {\n            min = arr[j] < arr[min] ? j : min;\n            yield;\n        }\n        swap(arr, i, min);\n    }\n}\n","/**\n * @param {number[]} arr the array to sort\n * @returns {Generator} A generator that will progressively sort the underlying\n *  array\n */\nexport default function* insertionSort(arr) {\n    for (let i = 1; i < arr.length; i++) {\n        const key = arr[i];\n        let j = i - 1;\n        while (j >= 0 && arr[j] > key) {\n            arr[j + 1] = arr[j];\n            j--;\n            yield;\n        }\n        arr[j + 1] = key;\n    }\n}\n","import {debounce} from './utils.js';\nimport createCanvas from './canvas.js';\nimport quickSort from './algorithms/quick-sort.js';\nimport heapSort from './algorithms/heap-sort.js';\nimport mergeSort from './algorithms/merge-sort.js';\nimport selectionSort from './algorithms/selection-sort.js';\nimport insertionSort from './algorithms/insertion-sort.js';\n\nconst select = document.querySelector('select[name=\"algorithm\"]');\nconst playBtn = document.querySelector('#play');\nconst pauseBtn = document.querySelector('#pause');\nconst resetBtn = document.querySelector('#reset');\nconst algorithms = {\n\t\"quick sort\": quickSort,\n\t\"heap sort\": heapSort,\n\t\"merge sort\": mergeSort,\n\t\"selection sort (slow)\": selectionSort,\n\t\"insertion sort (slow)\": insertionSort,\n};\nObject.keys(algorithms).forEach(algorithm => {\n\tconst option = document.createElement('option');\n\toption.value = option.textContent = algorithm;\n\tselect.appendChild(option);\n});\nconst array = [];\nconst barWidth = 1;\nconst gap = 0;\nlet playing = false;\nlet sorter;\nlet offsetLeft;\nlet sketch;\n\nfunction setPlayState(state) {\n\tplaying = state;\n\tplayBtn.classList.toggle('d-none', state);\n\tpauseBtn.classList.toggle('d-none', !state);\n}\nplayBtn.addEventListener('click', () => {\n\tsetPlayState(true);\n});\npauseBtn.addEventListener('click', () => {\n\tsetPlayState(false);\n});\nresetBtn.addEventListener('click', () => {\n\tsetPlayState(false);\n\tsetup();\n});\n\nselect.addEventListener('change', () => {\n\tsorter = algorithms[select.value](array);\n});\nconst resize = debounce(() => setup(), 200);\nwindow.addEventListener('resize', () => {\n\tresize();\n});\n\nfunction setup() {\n\tsketch = createCanvas(window.innerWidth, window.innerHeight);\n\tsketch.background('white');\n\tconst numPoints = Math.floor((sketch.width + gap) / (barWidth + gap));\n\tarray.length = 0;\n\tfor (let i = 0; i < numPoints; i++) {\n\t\tarray[i] = Math.random();\n\t}\n\tconst graphWidth = numPoints * barWidth + (numPoints - 1) * gap;\n\toffsetLeft = Math.floor((sketch.width - graphWidth) / 2);\n\tsorter = algorithms[select.value](array);\n}\n\nfunction draw() {\n\tsketch.background('white');\n\tsketch.fill('black');\n\tfor (let i = 0; i < array.length; i++) {\n\t\tsketch.rect(offsetLeft + i * (barWidth + gap), sketch.height, barWidth, -array[i] * (sketch.height - 1));\n\t}\n\tif (playing) {\n\t\tfor (let i = 0; i < Math.ceil(array.length / 20); i++) {\n\t\t\tif (sorter.next().done) {\n\t\t\t\tsetPlayState(false);\n\t\t\t\tsorter = algorithms[select.value](array);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction render() {\n\tdraw();\n\trequestAnimationFrame(render);\n}\n\nsetup();\nrender();\n"]}